{% extends 'base.html' %}
{% load static %}

{% block title %}Create Story{% endblock %}

{% block body %}
<div class="main-content right-chat-active">
    <div class="middle-sidebar-bottom">
        <div class="middle-sidebar-left">
            <div class="row">
                <div class="col-lg-12">
                    <div class="card w-100 border-0 p-0 bg-white shadow-xss rounded-xxl">
                        <div class="card-body d-flex align-items-center p-4">
                            <h4 class="fw-700 mb-0 font-xssss text-grey-900">Create Story</h4>
                            <a onclick="history.back()" class="ms-auto"><i class="feather-x-circle font-md text-grey-900"></i></a>
                        </div>
                        
                        <div class="card-body p-0 mt-3 position-relative">
                            <form method="post" enctype="multipart/form-data" class="p-4">
                                {% csrf_token %}
                                
                                <div class="form-group">
                                    <label class="mont-font fw-600 font-xsss mb-2">Upload Media</label>
                                    <div class="custom-file">
                                        <input type="file" name="image" accept="image/*" class="custom-file-input" id="imageInput">
                                        <label class="custom-file-label" for="imageInput">Choose image</label>
                                    </div>
                                    <small class="form-text text-muted">Upload an image for your story</small>
                                </div>
                                
                                <div class="form-group mt-3">
                                    <div class="custom-file">
                                        <input type="file" name="video" accept="video/*" class="custom-file-input" id="videoInput">
                                        <label class="custom-file-label" for="videoInput">Choose video</label>
                                    </div>
                                    <small class="form-text text-muted">Or upload a video for your story</small>
                                </div>
                                <div class="form-group mt-3">
                                    <label for="caption">Caption:</label><br>
                                    <input type="text" name="caption" class='form-control w-50' id="caption">
                                </div>
                                <div class="form-group mt-3">
                                    <button type="submit" class="btn btn-primary">Create Story</button>
                                    <a onclick="history.back()" class="btn btn-outline-secondary ms-2">Cancel</a>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // Display file name when selected
    document.getElementById('imageInput').addEventListener('change', function() {
        var fileName = this.files[0].name;
        var label = document.querySelector('label[for="imageInput"]');
        label.textContent = fileName;
    });
    
    document.getElementById('videoInput').addEventListener('change', function() {
        var fileName = this.files[0].name;
        var label = document.querySelector('label[for="videoInput"]');
        label.textContent = fileName;
    });
</script>
{% endblock %} 